{% extends "_base.html" %}


{% block wheel %}
<div id="main" style="width: 900px;height:600px;"></div>

<script type="text/javascript">
	
var myChart = echarts.init(document.getElementById('main'));


option = {
    title: {
        text: '用户转化率',
        subtext: '用户生命周期',
        textStyle: {
                color: '#fff'
            }
    },
    tooltip: {
        trigger: 'item',
        formatter: "{a} <br/>{b} : {c}%"
    },
    toolbox: {
        feature: {
            dataView: {readOnly: false},
            restore: {},
            saveAsImage: {}
        }
    },
    legend: {
        data: ['下载','打开','领奖','投注','充值'],
        textStyle: {
                color: '#fff',
                fontSize: 14
            }
    },
    series: [
        {
            name: '预期',
            type: 'funnel',
            left: '10%',
            width: '80%',
            label: {
                normal: {
                    formatter: '{b}预期'
                },
                emphasis: {
                    position:'inside',
                    formatter: '{b}预期: {c}%'
                }
            },
            labelLine: {
                normal: {
                    show: false
                }
            },
            itemStyle: {
                normal: {
                    opacity: 0.7
                }
            },
            data: [
                {value: 20, name: '充值'},
                {value: 40, name: '投注'},
                {value: 60, name: '领奖'},
                {value: 80, name: '打开'},
                {value: 100, name: '下载'}
            ]
        },
        {
            name: '实际',
            type: 'funnel',
            left: '10%',
            width: '80%',
            maxSize: '80%',
            label: {
                normal: {
                    position: 'inside',
                    formatter: '{c}%',
                    textStyle: {
                        color: '#fff'
                    }
                },
                emphasis: {
                    position:'inside',
                    formatter: '{b}实际: {c}%'
                }
            },
            itemStyle: {
                normal: {
                    opacity: 0.5,
                    borderColor: '#fff',
                    borderWidth: 2
                }
            },
            data: [
                {value: 10, name: '充值'},
                {value: 20, name: '投注'},
                {value: 40, name: '领奖'},
                {value: 50, name: '打开'},
                {value: 80, name: '下载'}
            ]
        }
    ]
};

    // 使用刚指定的配置项和数据显示图表。
   	myChart.setOption(option);
</script>

{% endblock %}

